$(document).ready(function(){var t=window.location.hash.replace("#",""),e=$(".js-tabs");if(e.length){var a=e.find(".js-tablist");if(a.each(function(){var t=$(this),e=t.data(),a="undefined"!=typeof e.tabsPrefixClass?e.tabsPrefixClass+"-":"",i="undefined"!=typeof e.hx?e.hx:"",s="undefined"!=typeof e.existingHx?e.existingHx:"",l=t.children(".js-tablist__item"),n=t.find(".js-tablist__link");t.attr("role","tablist"),l.attr("role","presentation"),n.attr("role","tab"),t.addClass(a+"tabs__list"),l.addClass(a+"tabs__item"),n.addClass(a+"tabs__link"),n.each(function(){var t=$(this),a="undefined"!=typeof e.tabsGeneratedHxClass?e.tabsGeneratedHxClass:"invisible",l=t.attr("href"),n=$(l),r=t.text();""!==i&&n.prepend("<"+i+' class="'+a+'" tabindex="0">'+r+"</"+i+">"),""!==s&&n.find(s+":first-child").attr("tabindex",0),"undefined"!=typeof l&&""!==l&&"#"!==l&&t.attr({"aria-controls":l.replace("#",""),tabindex:-1,"aria-selected":"false"}),t.removeAttr("href")})}),$(".js-tabcontent").attr({role:"tabpanel","aria-hidden":"true"}).each(function(){var t=$(this),e=t.attr("id"),a=$("#label_"+e).closest(".js-tablist").attr("data-tabs-prefix-class"),i="undefined"!=typeof a?a+"-":"";t.attr("aria-labelledby","label_"+e),t.addClass(i+"tabs__content")}),""!==t&&0!==$("#"+t+".js-tabcontent").length&&($("#"+t+".js-tabcontent").removeAttr("aria-hidden"),$("#label_"+t+".js-tablist__link").attr({"aria-selected":"true",tabindex:0})),""!==t&&$("#"+t).parents(".js-tabcontent").length){var i=$("#"+t),s=i.parents(".js-tabcontent"),l=s.attr("id");s.removeAttr("aria-hidden"),$("#label_"+l+".js-tablist__link").attr({"aria-selected":"true",tabindex:0})}e.each(function(){var t=$(this),e=t.find('.js-tablist__link[aria-selected="true"]'),a=t.find(".js-tablist__link:first"),i=t.find(".js-tabcontent:first");0===e.length&&(a.attr({"aria-selected":"true",tabindex:0}),i.removeAttr("aria-hidden"))}),$("body").on("click",".js-tablist__link",function(t){var e=$(this),a=e.attr("aria-controls"),i=$("#"+e.attr("aria-controls")),s=e.closest(".js-tabs"),l=s.find(".js-tablist__link"),n=s.find(".js-tabcontent");l.attr({tabindex:-1,"aria-selected":"false"}),e.attr({"aria-selected":"true",tabindex:0}),n.attr("aria-hidden","true"),i.removeAttr("aria-hidden"),setTimeout(function(){history.pushState(null,null,location.pathname+location.search+"#"+a)},1e3),t.preventDefault()}).on("keydown",".js-tablist",function(t){var e=$(this).closest(".js-tabs"),a=e.find('.js-tablist__link[aria-selected="true"]').parent(),i=e.find(".js-tablist__item:last-child .js-tablist__link"),s=e.find(".js-tablist__item:first-child .js-tablist__link"),l=!1;$(document.activeElement).is(e.find(".js-tablist__link"))&&(l=!0),l&&!t.ctrlKey&&(37==t.keyCode||38==t.keyCode?(a.is(".js-tablist__item:first-child")?i.click().focus():a.prev().children(".js-tablist__link").click().focus(),t.preventDefault()):40==t.keyCode||39==t.keyCode?(a.is(".js-tablist__item:last-child")?s.click().focus():a.next().children(".js-tablist__link").click().focus(),t.preventDefault()):36==t.keyCode?(s.click().focus(),t.preventDefault()):35==t.keyCode&&(i.click().focus(),t.preventDefault()))}).on("keydown",".js-tabcontent",function(t){var e=$(this),a=e.attr("aria-labelledby"),i=$("#"+a),s=i.parent(),l=s.parent();37!=t.keyCode&&38!=t.keyCode||!t.ctrlKey||(i.focus(),t.preventDefault()),33==t.keyCode&&t.ctrlKey&&(i.focus(),s.is(".js-tablist__item:first-child")?l.find(".js-tablist__item:last-child .js-tablist__link").click().focus():s.prev().children(".js-tablist__link").click().focus(),t.preventDefault()),34==t.keyCode&&t.ctrlKey&&(i.focus(),s.is(".js-tablist__item:last-child")?l.find(".js-tablist__item:first-child .js-tablist__link").click().focus():s.next().children(".js-tablist__link").click().focus(),t.preventDefault())}).on("click",".js-link-to-tab",function(t){var e=$(this),a=$(e.attr("href")),i=$("#"+a.attr("aria-labelledby"));i.click(),setTimeout(function(){i.focus()},10)})}});